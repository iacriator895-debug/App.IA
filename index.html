<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>App Futebol 2D</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0b3d2e;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .top-bar {
      display: flex;
      gap: 20px;
      margin: 10px;
    }

    .team-name {
      background: #fff;
      padding: 8px 12px;
      border-radius: 6px;
      border: 2px solid #333;
      min-width: 140px;
      text-align: center;
      font-weight: bold;
    }

    .controls {
      margin: 10px;
      display: flex;
      gap: 10px;
    }

    button {
      padding: 16px 26px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      box-shadow: inset 0 4px 6px rgba(255,255,255,0.4), inset 0 -4px 6px rgba(0,0,0,0.3), 0 6px 10px rgba(0,0,0,0.4);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    button:active {
      transform: scale(0.95);
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
    }

    #blueBtn {
      background: radial-gradient(circle at top, #5dade2, #1e90ff, #0b3c5d);
      color: white;
      min-width: 160px;
    }
    #redBtn {
      background: radial-gradient(circle at top, #ff7b7b, #e63946, #7a0f1b);
      color: white;
      min-width: 160px;
    }
    #saveBtn { background: #222; color: white; }

    canvas {
      background: #1f7a3f;
      border: 4px solid white;
      border-radius: 10px;
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <div contenteditable="true" class="team-name" id="teamBlue">TIME AZUL</div>
    <div contenteditable="true" class="team-name" id="teamRed">TIME VERMELHO</div>
  </div>

  <div class="controls">
    <button id="blueBtn">Jogador Azul</button>
    <button id="redBtn">Jogador Vermelho</button>
    <button id="saveBtn">Salvar</button>
  </div>

  <canvas id="field" width="800" height="500"></canvas>

  <script>
    const canvas = document.getElementById('field');
    const ctx = canvas.getContext('2d');

    let currentColor = 'blue';
    let players = [];

    function drawField() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.strokeStyle = 'white';
      ctx.lineWidth = 2;

      // Contorno
      ctx.strokeRect(20, 20, 760, 460);

      // Meio campo
      ctx.beginPath();
      ctx.moveTo(400, 20);
      ctx.lineTo(400, 480);
      ctx.stroke();

      // Círculo central
      ctx.beginPath();
      ctx.arc(400, 250, 60, 0, Math.PI * 2);
      ctx.stroke();

      // Marca central
      ctx.beginPath();
      ctx.arc(400, 250, 3, 0, Math.PI * 2);
      ctx.fillStyle = 'white';
      ctx.fill();

      // Área esquerda
      ctx.strokeRect(20, 150, 120, 200);
      ctx.strokeRect(20, 200, 60, 100);

      // Área direita
      ctx.strokeRect(660, 150, 120, 200);
      ctx.strokeRect(720, 200, 60, 100);

      // Pênaltis
      ctx.beginPath();
      ctx.arc(110, 250, 3, 0, Math.PI * 2);
      ctx.arc(690, 250, 3, 0, Math.PI * 2);
      ctx.fill();

      drawPlayers();
    }

    function drawPlayers() {
      players.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, 12, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
      });
    }

    function addPlayer(x, y) {
      players.push({ x, y, color: currentColor });
      drawField();
    }

    // Clique (desktop)
    canvas.addEventListener('click', e => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      addPlayer(x, y);
    });

    // Toque (celular)
    canvas.addEventListener('touchstart', e => {
      e.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const touch = e.touches[0];
      const x = touch.clientX - rect.left;
      const y = touch.clientY - rect.top;
      addPlayer(x, y);
    });

    document.getElementById('blueBtn').onclick = () => {
      currentColor = 'blue';
      navigator.vibrate?.(30);
    };
    document.getElementById('redBtn').onclick = () => {
      currentColor = 'red';
      navigator.vibrate?.(30);
    };

    document.getElementById('saveBtn').onclick = () => {
      const data = {
        teamBlue: document.getElementById('teamBlue').innerText,
        teamRed: document.getElementById('teamRed').innerText,
        players
      };
      localStorage.setItem('futebol2D', JSON.stringify(data));
      alert('Formação salva com sucesso!');
    };

    drawField();
  </script>

</body>
</html>
